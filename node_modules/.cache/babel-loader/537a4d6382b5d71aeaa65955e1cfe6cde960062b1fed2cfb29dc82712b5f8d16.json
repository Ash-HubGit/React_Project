{"ast":null,"code":"/**\n * This class helps us to emulate python's generators, sorta.\n */\nvar IterResult = /** @class */function () {\n  function IterResult(method, args) {\n    this.minDate = null;\n    this.maxDate = null;\n    this._result = [];\n    this.total = 0;\n    this.method = method;\n    this.args = args;\n    if (method === 'between') {\n      this.maxDate = args.inc ? args.before : new Date(args.before.getTime() - 1);\n      this.minDate = args.inc ? args.after : new Date(args.after.getTime() + 1);\n    } else if (method === 'before') {\n      this.maxDate = args.inc ? args.dt : new Date(args.dt.getTime() - 1);\n    } else if (method === 'after') {\n      this.minDate = args.inc ? args.dt : new Date(args.dt.getTime() + 1);\n    }\n  }\n  /**\n   * Possibly adds a date into the result.\n   *\n   * @param {Date} date - the date isn't necessarly added to the result\n   * list (if it is too late/too early)\n   * @return {Boolean} true if it makes sense to continue the iteration\n   * false if we're done.\n   */\n  IterResult.prototype.accept = function (date) {\n    ++this.total;\n    var tooEarly = this.minDate && date < this.minDate;\n    var tooLate = this.maxDate && date > this.maxDate;\n    if (this.method === 'between') {\n      if (tooEarly) return true;\n      if (tooLate) return false;\n    } else if (this.method === 'before') {\n      if (tooLate) return false;\n    } else if (this.method === 'after') {\n      if (tooEarly) return true;\n      this.add(date);\n      return false;\n    }\n    return this.add(date);\n  };\n  /**\n   *\n   * @param {Date} date that is part of the result.\n   * @return {Boolean} whether we are interested in more values.\n   */\n  IterResult.prototype.add = function (date) {\n    this._result.push(date);\n    return true;\n  };\n  /**\n   * 'before' and 'after' return only one date, whereas 'all'\n   * and 'between' an array.\n   *\n   * @return {Date,Array?}\n   */\n  IterResult.prototype.getValue = function () {\n    var res = this._result;\n    switch (this.method) {\n      case 'all':\n      case 'between':\n        return res;\n      case 'before':\n      case 'after':\n      default:\n        return res.length ? res[res.length - 1] : null;\n    }\n  };\n  IterResult.prototype.clone = function () {\n    return new IterResult(this.method, this.args);\n  };\n  return IterResult;\n}();\nexport default IterResult;","map":{"version":3,"mappings":"AAcA;;;AAGA;EAQE,oBAAYA,MAAS,EAAEC,IAAuB;IAL9B,YAAO,GAAgB,IAAI;IAC3B,YAAO,GAAgB,IAAI;IACpC,YAAO,GAAW,EAAE;IACpB,UAAK,GAAG,CAAC;IAGd,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAEhB,IAAID,MAAM,KAAK,SAAS,EAAE;MACxB,IAAI,CAACE,OAAO,GAAGD,IAAI,CAACE,GAAG,GACnBF,IAAI,CAACG,MAAM,GACX,IAAIC,IAAI,CAACJ,IAAI,CAACG,MAAM,CAACE,OAAO,EAAE,GAAG,CAAC,CAAC;MACvC,IAAI,CAACC,OAAO,GAAGN,IAAI,CAACE,GAAG,GAAGF,IAAI,CAACO,KAAK,GAAG,IAAIH,IAAI,CAACJ,IAAI,CAACO,KAAK,CAACF,OAAO,EAAE,GAAG,CAAC,CAAC;KAC1E,MAAM,IAAIN,MAAM,KAAK,QAAQ,EAAE;MAC9B,IAAI,CAACE,OAAO,GAAGD,IAAI,CAACE,GAAG,GAAGF,IAAI,CAACQ,EAAE,GAAG,IAAIJ,IAAI,CAACJ,IAAI,CAACQ,EAAE,CAACH,OAAO,EAAE,GAAG,CAAC,CAAC;KACpE,MAAM,IAAIN,MAAM,KAAK,OAAO,EAAE;MAC7B,IAAI,CAACO,OAAO,GAAGN,IAAI,CAACE,GAAG,GAAGF,IAAI,CAACQ,EAAE,GAAG,IAAIJ,IAAI,CAACJ,IAAI,CAACQ,EAAE,CAACH,OAAO,EAAE,GAAG,CAAC,CAAC;;EAEvE;EAEA;;;;;;;;EAQAI,2BAAM,GAAN,UAAOC,IAAU;IACf,EAAE,IAAI,CAACC,KAAK;IACZ,IAAMC,QAAQ,GAAG,IAAI,CAACN,OAAO,IAAII,IAAI,GAAG,IAAI,CAACJ,OAAO;IACpD,IAAMO,OAAO,GAAG,IAAI,CAACZ,OAAO,IAAIS,IAAI,GAAG,IAAI,CAACT,OAAO;IAEnD,IAAI,IAAI,CAACF,MAAM,KAAK,SAAS,EAAE;MAC7B,IAAIa,QAAQ,EAAE,OAAO,IAAI;MACzB,IAAIC,OAAO,EAAE,OAAO,KAAK;KAC1B,MAAM,IAAI,IAAI,CAACd,MAAM,KAAK,QAAQ,EAAE;MACnC,IAAIc,OAAO,EAAE,OAAO,KAAK;KAC1B,MAAM,IAAI,IAAI,CAACd,MAAM,KAAK,OAAO,EAAE;MAClC,IAAIa,QAAQ,EAAE,OAAO,IAAI;MACzB,IAAI,CAACE,GAAG,CAACJ,IAAI,CAAC;MACd,OAAO,KAAK;;IAGd,OAAO,IAAI,CAACI,GAAG,CAACJ,IAAI,CAAC;EACvB,CAAC;EAED;;;;;EAKAD,wBAAG,GAAH,UAAIC,IAAU;IACZ,IAAI,CAACK,OAAO,CAACC,IAAI,CAACN,IAAI,CAAC;IACvB,OAAO,IAAI;EACb,CAAC;EAED;;;;;;EAMAD,6BAAQ,GAAR;IACE,IAAMQ,GAAG,GAAG,IAAI,CAACF,OAAO;IACxB,QAAQ,IAAI,CAAChB,MAAM;MACjB,KAAK,KAAK;MACV,KAAK,SAAS;QACZ,OAAOkB,GAAwB;MACjC,KAAK,QAAQ;MACb,KAAK,OAAO;MACZ;QACE,OAAQA,GAAG,CAACC,MAAM,GAAGD,GAAG,CAACA,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI;IAAsB;EAE3E,CAAC;EAEDT,0BAAK,GAAL;IACE,OAAO,IAAIA,UAAU,CAAC,IAAI,CAACV,MAAM,EAAE,IAAI,CAACC,IAAI,CAAC;EAC/C,CAAC;EACH,iBAAC;AAAD,CAAC,EAnFD","names":["method","args","maxDate","inc","before","Date","getTime","minDate","after","dt","IterResult","date","total","tooEarly","tooLate","add","_result","push","res","length"],"sources":["../../src/iterresult.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}