{"ast":null,"code":"import ENGLISH from './i18n';\nimport { RRule } from '../rrule';\nimport { isArray, isNumber, isPresent } from '../helpers';\n// =============================================================================\n// Helper functions\n// =============================================================================\n/**\n * Return true if a value is in an array\n */\nvar contains = function (arr, val) {\n  return arr.indexOf(val) !== -1;\n};\nvar defaultGetText = function (id) {\n  return id.toString();\n};\nvar defaultDateFormatter = function (year, month, day) {\n  return \"\".concat(month, \" \").concat(day, \", \").concat(year);\n};\n/**\n *\n * @param {RRule} rrule\n * Optional:\n * @param {Function} gettext function\n * @param {Object} language definition\n * @constructor\n */\nvar ToText = /** @class */function () {\n  function ToText(rrule, gettext, language, dateFormatter) {\n    if (gettext === void 0) {\n      gettext = defaultGetText;\n    }\n    if (language === void 0) {\n      language = ENGLISH;\n    }\n    if (dateFormatter === void 0) {\n      dateFormatter = defaultDateFormatter;\n    }\n    this.text = [];\n    this.language = language || ENGLISH;\n    this.gettext = gettext;\n    this.dateFormatter = dateFormatter;\n    this.rrule = rrule;\n    this.options = rrule.options;\n    this.origOptions = rrule.origOptions;\n    if (this.origOptions.bymonthday) {\n      var bymonthday = [].concat(this.options.bymonthday);\n      var bynmonthday = [].concat(this.options.bynmonthday);\n      bymonthday.sort(function (a, b) {\n        return a - b;\n      });\n      bynmonthday.sort(function (a, b) {\n        return b - a;\n      });\n      // 1, 2, 3, .., -5, -4, -3, ..\n      this.bymonthday = bymonthday.concat(bynmonthday);\n      if (!this.bymonthday.length) this.bymonthday = null;\n    }\n    if (isPresent(this.origOptions.byweekday)) {\n      var byweekday = !isArray(this.origOptions.byweekday) ? [this.origOptions.byweekday] : this.origOptions.byweekday;\n      var days = String(byweekday);\n      this.byweekday = {\n        allWeeks: byweekday.filter(function (weekday) {\n          return !weekday.n;\n        }),\n        someWeeks: byweekday.filter(function (weekday) {\n          return Boolean(weekday.n);\n        }),\n        isWeekdays: days.indexOf('MO') !== -1 && days.indexOf('TU') !== -1 && days.indexOf('WE') !== -1 && days.indexOf('TH') !== -1 && days.indexOf('FR') !== -1 && days.indexOf('SA') === -1 && days.indexOf('SU') === -1,\n        isEveryDay: days.indexOf('MO') !== -1 && days.indexOf('TU') !== -1 && days.indexOf('WE') !== -1 && days.indexOf('TH') !== -1 && days.indexOf('FR') !== -1 && days.indexOf('SA') !== -1 && days.indexOf('SU') !== -1\n      };\n      var sortWeekDays = function (a, b) {\n        return a.weekday - b.weekday;\n      };\n      this.byweekday.allWeeks.sort(sortWeekDays);\n      this.byweekday.someWeeks.sort(sortWeekDays);\n      if (!this.byweekday.allWeeks.length) this.byweekday.allWeeks = null;\n      if (!this.byweekday.someWeeks.length) this.byweekday.someWeeks = null;\n    } else {\n      this.byweekday = null;\n    }\n  }\n  /**\n   * Test whether the rrule can be fully converted to text.\n   *\n   * @param {RRule} rrule\n   * @return {Boolean}\n   */\n  ToText.isFullyConvertible = function (rrule) {\n    var canConvert = true;\n    if (!(rrule.options.freq in ToText.IMPLEMENTED)) return false;\n    if (rrule.origOptions.until && rrule.origOptions.count) return false;\n    for (var key in rrule.origOptions) {\n      if (contains(['dtstart', 'wkst', 'freq'], key)) return true;\n      if (!contains(ToText.IMPLEMENTED[rrule.options.freq], key)) return false;\n    }\n    return canConvert;\n  };\n  ToText.prototype.isFullyConvertible = function () {\n    return ToText.isFullyConvertible(this.rrule);\n  };\n  /**\n   * Perform the conversion. Only some of the frequencies are supported.\n   * If some of the rrule's options aren't supported, they'll\n   * be omitted from the output an \"(~ approximate)\" will be appended.\n   *\n   * @return {*}\n   */\n  ToText.prototype.toString = function () {\n    var gettext = this.gettext;\n    if (!(this.options.freq in ToText.IMPLEMENTED)) {\n      return gettext('RRule error: Unable to fully convert this rrule to text');\n    }\n    this.text = [gettext('every')];\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    this[RRule.FREQUENCIES[this.options.freq]]();\n    if (this.options.until) {\n      this.add(gettext('until'));\n      var until = this.options.until;\n      this.add(this.dateFormatter(until.getUTCFullYear(), this.language.monthNames[until.getUTCMonth()], until.getUTCDate()));\n    } else if (this.options.count) {\n      this.add(gettext('for')).add(this.options.count.toString()).add(this.plural(this.options.count) ? gettext('times') : gettext('time'));\n    }\n    if (!this.isFullyConvertible()) this.add(gettext('(~ approximate)'));\n    return this.text.join('');\n  };\n  ToText.prototype.HOURLY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n    this.add(this.plural(this.options.interval) ? gettext('hours') : gettext('hour'));\n  };\n  ToText.prototype.MINUTELY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n    this.add(this.plural(this.options.interval) ? gettext('minutes') : gettext('minute'));\n  };\n  ToText.prototype.DAILY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n    if (this.byweekday && this.byweekday.isWeekdays) {\n      this.add(this.plural(this.options.interval) ? gettext('weekdays') : gettext('weekday'));\n    } else {\n      this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n    }\n    if (this.origOptions.bymonth) {\n      this.add(gettext('in'));\n      this._bymonth();\n    }\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday) {\n      this._byweekday();\n    } else if (this.origOptions.byhour) {\n      this._byhour();\n    }\n  };\n  ToText.prototype.WEEKLY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) {\n      this.add(this.options.interval.toString()).add(this.plural(this.options.interval) ? gettext('weeks') : gettext('week'));\n    }\n    if (this.byweekday && this.byweekday.isWeekdays) {\n      if (this.options.interval === 1) {\n        this.add(this.plural(this.options.interval) ? gettext('weekdays') : gettext('weekday'));\n      } else {\n        this.add(gettext('on')).add(gettext('weekdays'));\n      }\n    } else if (this.byweekday && this.byweekday.isEveryDay) {\n      this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n    } else {\n      if (this.options.interval === 1) this.add(gettext('week'));\n      if (this.origOptions.bymonth) {\n        this.add(gettext('in'));\n        this._bymonth();\n      }\n      if (this.bymonthday) {\n        this._bymonthday();\n      } else if (this.byweekday) {\n        this._byweekday();\n      }\n    }\n  };\n  ToText.prototype.MONTHLY = function () {\n    var gettext = this.gettext;\n    if (this.origOptions.bymonth) {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString()).add(gettext('months'));\n        if (this.plural(this.options.interval)) this.add(gettext('in'));\n      } else {\n        // this.add(gettext('MONTH'))\n      }\n      this._bymonth();\n    } else {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString());\n      }\n      this.add(this.plural(this.options.interval) ? gettext('months') : gettext('month'));\n    }\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday && this.byweekday.isWeekdays) {\n      this.add(gettext('on')).add(gettext('weekdays'));\n    } else if (this.byweekday) {\n      this._byweekday();\n    }\n  };\n  ToText.prototype.YEARLY = function () {\n    var gettext = this.gettext;\n    if (this.origOptions.bymonth) {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString());\n        this.add(gettext('years'));\n      } else {\n        // this.add(gettext('YEAR'))\n      }\n      this._bymonth();\n    } else {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString());\n      }\n      this.add(this.plural(this.options.interval) ? gettext('years') : gettext('year'));\n    }\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday) {\n      this._byweekday();\n    }\n    if (this.options.byyearday) {\n      this.add(gettext('on the')).add(this.list(this.options.byyearday, this.nth, gettext('and'))).add(gettext('day'));\n    }\n    if (this.options.byweekno) {\n      this.add(gettext('in')).add(this.plural(this.options.byweekno.length) ? gettext('weeks') : gettext('week')).add(this.list(this.options.byweekno, undefined, gettext('and')));\n    }\n  };\n  ToText.prototype._bymonthday = function () {\n    var gettext = this.gettext;\n    if (this.byweekday && this.byweekday.allWeeks) {\n      this.add(gettext('on')).add(this.list(this.byweekday.allWeeks, this.weekdaytext, gettext('or'))).add(gettext('the')).add(this.list(this.bymonthday, this.nth, gettext('or')));\n    } else {\n      this.add(gettext('on the')).add(this.list(this.bymonthday, this.nth, gettext('and')));\n    }\n    // this.add(gettext('DAY'))\n  };\n\n  ToText.prototype._byweekday = function () {\n    var gettext = this.gettext;\n    if (this.byweekday.allWeeks && !this.byweekday.isWeekdays) {\n      this.add(gettext('on')).add(this.list(this.byweekday.allWeeks, this.weekdaytext));\n    }\n    if (this.byweekday.someWeeks) {\n      if (this.byweekday.allWeeks) this.add(gettext('and'));\n      this.add(gettext('on the')).add(this.list(this.byweekday.someWeeks, this.weekdaytext, gettext('and')));\n    }\n  };\n  ToText.prototype._byhour = function () {\n    var gettext = this.gettext;\n    this.add(gettext('at')).add(this.list(this.origOptions.byhour, undefined, gettext('and')));\n  };\n  ToText.prototype._bymonth = function () {\n    this.add(this.list(this.options.bymonth, this.monthtext, this.gettext('and')));\n  };\n  ToText.prototype.nth = function (n) {\n    n = parseInt(n.toString(), 10);\n    var nth;\n    var gettext = this.gettext;\n    if (n === -1) return gettext('last');\n    var npos = Math.abs(n);\n    switch (npos) {\n      case 1:\n      case 21:\n      case 31:\n        nth = npos + gettext('st');\n        break;\n      case 2:\n      case 22:\n        nth = npos + gettext('nd');\n        break;\n      case 3:\n      case 23:\n        nth = npos + gettext('rd');\n        break;\n      default:\n        nth = npos + gettext('th');\n    }\n    return n < 0 ? nth + ' ' + gettext('last') : nth;\n  };\n  ToText.prototype.monthtext = function (m) {\n    return this.language.monthNames[m - 1];\n  };\n  ToText.prototype.weekdaytext = function (wday) {\n    var weekday = isNumber(wday) ? (wday + 1) % 7 : wday.getJsWeekday();\n    return (wday.n ? this.nth(wday.n) + ' ' : '') + this.language.dayNames[weekday];\n  };\n  ToText.prototype.plural = function (n) {\n    return n % 100 !== 1;\n  };\n  ToText.prototype.add = function (s) {\n    this.text.push(' ');\n    this.text.push(s);\n    return this;\n  };\n  ToText.prototype.list = function (arr, callback, finalDelim, delim) {\n    var _this = this;\n    if (delim === void 0) {\n      delim = ',';\n    }\n    if (!isArray(arr)) {\n      arr = [arr];\n    }\n    var delimJoin = function (array, delimiter, finalDelimiter) {\n      var list = '';\n      for (var i = 0; i < array.length; i++) {\n        if (i !== 0) {\n          if (i === array.length - 1) {\n            list += ' ' + finalDelimiter + ' ';\n          } else {\n            list += delimiter + ' ';\n          }\n        }\n        list += array[i];\n      }\n      return list;\n    };\n    callback = callback || function (o) {\n      return o.toString();\n    };\n    var realCallback = function (arg) {\n      return callback && callback.call(_this, arg);\n    };\n    if (finalDelim) {\n      return delimJoin(arr.map(realCallback), delim, finalDelim);\n    } else {\n      return arr.map(realCallback).join(delim + ' ');\n    }\n  };\n  return ToText;\n}();\nexport default ToText;","map":{"version":3,"mappings":"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","names":["ENGLISH","RRule","isArray","isNumber","isPresent","contains","arr","val","indexOf","defaultGetText","id","toString","defaultDateFormatter","year","month","day","rrule","gettext","language","dateFormatter","text","options","origOptions","bymonthday","concat","bynmonthday","sort","a","b","length","byweekday","days","String","allWeeks","filter","weekday","n","someWeeks","Boolean","isWeekdays","isEveryDay","sortWeekDays","ToText","canConvert","freq","IMPLEMENTED","until","count","key","isFullyConvertible","FREQUENCIES","add","getUTCFullYear","monthNames","getUTCMonth","getUTCDate","plural","join","interval","bymonth","_bymonth","_bymonthday","_byweekday","byhour","_byhour","byyearday","list","nth","byweekno","undefined","weekdaytext","monthtext","parseInt","npos","Math","abs","m","wday","getJsWeekday","dayNames","s","push","callback","finalDelim","delim","delimJoin","array","delimiter","finalDelimiter","i","o","realCallback","arg","call","_this","map"],"sources":["../../../src/nlp/totext.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}